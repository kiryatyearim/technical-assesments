package com.kiryatyearim.technical.assesment.questions;

import java.util.Arrays;
import java.util.HashSet;
import java.util.List;
import java.util.Set;
import java.util.stream.Collectors;

public class GiftingGroupsQuestion2 {
    public static void main(String[] args) {

        List<String> inputList = Arrays.asList(
                "1000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000",
                "0100000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000",
                "0010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000001000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000100000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000001000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000",
                "0000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000001000000000001000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000010000000000100000000000000000000000000000000000000000000000000000000100000000000000000",
                "0000000000000001000000000000000000000000000000000000000000000000000000001000000000000000000000000000",
                "0000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000100000000",
                "0000000000000000001000000000000000000000000010000000000000000000000000000000000000000000000000000000",
                "0000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000010000000000000000000000000000000000000000000000000000000000000000000100000000000",
                "0000001000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000010000000000000000000000000000000100000000000000000000000000000000000000000000",
                "0000000000001000000000001000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000010000000000100000000000000000000000000000000000010000000000000000000000000000000000000",
                "0000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000100000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000010000000000000000000000100000000000000000000000000000000000000000000000",
                "0000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000100000000000000000100000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000010001000000000000000000000000000000000000000000000000000000000",
                "1000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000010000010000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000010001000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000",
                "0000000000000000001000000000000000000000000010000000100000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000100000000000000000000000000001000000000000000100000000",
                "0000000000000000000000000000000000000000010000010000010000000000000000000000000000000100000000000000",
                "0100000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000",
                "0000000001000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000001000000000000001000000000000000000000000000000000",
                "0000000000000000000000000000010000000000000010000000100000000000000000000000000000000000000000000010",
                "0000000000000000000000000000000000000000000000010000010000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000",
                "0000000000000000000000010000000000000100000000000000000100000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000001010000000000000000000000000000000000000001",
                "0000000000000000000000000000000000000000000000000000000000100000000100000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000001010000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000100000000000100000000000000000000000000",
                "0000000000000000000000000100000000000000000000000000000000000010000000100000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000001000000000000001000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000100000000100000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000010000000100000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000",
                "0000000000000001000000000000000000000000000000000000000000000000000000001000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000100000000000100000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000",
                "0000000000000000000000000000000000000000000000100000000000000000000000000001000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000",
                "0000000000000010000000000000000000000000000000000000000000000000000000000000000000100000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000",
                "0000000000000000000000000000000000000000000000010000000000000000000000000000000000000100000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000",
                "0000000000000000000010000000000000000000000000000000000000000000000000000000000000000000100000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000",
                "0000000000000000010000000000000000000000000000100000000000000000000000000000000000000000000100000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100",
                "0000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000010",
                "0000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000001"
        );
        int result = countGroups(inputList);
        System.out.println(result);
    }

    private static int countGroups(List<String> arrayList) {
        int count = 0;
        int[][] isConnected = new int[arrayList.size()][arrayList.size()];

        for (int i = 0; i < arrayList.size(); i++) {

            String row = arrayList.get(i);

            for (int j = 0; j < row.length(); j++) {

                isConnected[i][j] = (int) row.charAt(j)=='1'? 1 : 0;
            }

        }

        boolean[] isReached = new boolean[isConnected.length];
        for (int i = 0; i < isConnected.length; i++) {
            if (!isReached[i])
            {
                System.out.println("!isReached: " + i);
                alignedGroups(isConnected, isReached, i);
                count++;

            }

        }

        return count;
    }

    private static void alignedGroups(int[][] isConnected, boolean[] isReached, int v)

    {
        isReached[v] = true;

        for (int i = 0; i < isConnected.length; i++)

        {
            if (isConnected[v][i] == 1 && !isReached[i])
                alignedGroups(isConnected, isReached, i);

        }

    }

}
