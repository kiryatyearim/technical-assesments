package com.kiryatyearim.technical.assesment.questions;

import java.util.Arrays;
import java.util.List;

public class GiftingGroupsQuestion3 {

    public static void main(String[] args) {

        List<String> inputList = Arrays.asList(
                "1000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000",
                "0100000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000",
                "0010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000001000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000100000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000001000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000",
                "0000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000001000000000001000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000010000000000100000000000000000000000000000000000000000000000000000000100000000000000000",
                "0000000000000001000000000000000000000000000000000000000000000000000000001000000000000000000000000000",
                "0000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000100000000",
                "0000000000000000001000000000000000000000000010000000000000000000000000000000000000000000000000000000",
                "0000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000010000000000000000000000000000000000000000000000000000000000000000000100000000000",
                "0000001000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000010000000000000000000000000000000100000000000000000000000000000000000000000000",
                "0000000000001000000000001000000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000010000000000100000000000000000000000000000000000010000000000000000000000000000000000000",
                "0000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000100000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000010000000000000000000000100000000000000000000000000000000000000000000000",
                "0000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000100000000000000000100000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000010001000000000000000000000000000000000000000000000000000000000",
                "1000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000010000010000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000010001000000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000",
                "0000000000000000001000000000000000000000000010000000100000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000100000000000000000000000000001000000000000000100000000",
                "0000000000000000000000000000000000000000010000010000010000000000000000000000000000000100000000000000",
                "0100000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000",
                "0000000001000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000001000000000000001000000000000000000000000000000000",
                "0000000000000000000000000000010000000000000010000000100000000000000000000000000000000000000000000010",
                "0000000000000000000000000000000000000000000000010000010000000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000",
                "0000000000000000000000010000000000000100000000000000000100000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000001010000000000000000000000000000000000000001",
                "0000000000000000000000000000000000000000000000000000000000100000000100000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000001010000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000100000000000100000000000000000000000000",
                "0000000000000000000000000100000000000000000000000000000000000010000000100000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000001000000000000001000000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000100000000100000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000010000000100000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000",
                "0000000000000001000000000000000000000000000000000000000000000000000000001000000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000100000000000100000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000",
                "0000000000000000000000000000000000000000000000100000000000000000000000000001000000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000",
                "0000000000000010000000000000000000000000000000000000000000000000000000000000000000100000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000",
                "0000000000000000000000000000000000000000000000010000000000000000000000000000000000000100000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000",
                "0000000000000000000010000000000000000000000000000000000000000000000000000000000000000000100000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000",
                "0000000000000000010000000000000000000000000000100000000000000000000000000000000000000000000100000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000",
                "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100",
                "0000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000010",
                "0000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000001"
        );
        int result = countGroups(inputList);
        System.out.println(result);
    }

    private static int countGroups(List<String> related) {

        int matrixSize = related.size();
        boolean[] visited = new boolean[related.size()];
        int count = 0;
        for (int i=0; i<matrixSize; i++) {

            for (int j=0; j<matrixSize; j++) {
                if (visited[j]) {
                    continue;
                }
                count++;
                traverseRow(visited, related, j);
            }

        }
        return count;
    }

    private static void traverseRow(boolean[] visited, List<String> related, int i) {
        String row = related.get(i);
        visited[i] = true;
        for (int k=0; k<row.length();k++) {
            char c = row.charAt(k);
            if (c == '1' && !visited[k]) {
                traverseRow(visited, related, k);
            }
        }
    }
}
